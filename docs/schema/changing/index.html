<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<title data-react-helmet="true">How do I change a schema? | Glean</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://glean.software/docs/schema/changing/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="How do I change a schema? | Glean"><meta data-react-helmet="true" name="description" content="Glean supports modifying the schema directly, while providing"><meta data-react-helmet="true" property="og:description" content="Glean supports modifying the schema directly, while providing"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://glean.software/docs/schema/changing/"><link data-react-helmet="true" rel="alternate" href="https://glean.software/docs/schema/changing/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://glean.software/docs/schema/changing/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.86494598.css">
<link rel="preload" href="/assets/js/runtime~main.55b9cbc3.js" as="script">
<link rel="preload" href="/assets/js/main.0f48c82f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><div class="announcementBar_axC9" style="background-color:#20232a;color:#fff" role="banner"><div class="announcementBarContent_6uhP">Support Ukraine 🇺🇦 <a target="_blank" rel="noopener noreferrer" href="https://opensource.fb.com/support-ukraine"> Help Provide Humanitarian Aid to Ukraine</a>.</div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title">Glean</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/introduction/">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebookincubator/glean" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Quick Start</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">User Guide</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Schemas</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema/basic/">Basic Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema/types/">Built-in Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema/syntax/">Syntax</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema/recursion/">Recursion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/schema/changing/">Changing a schema</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema/all/">The special &quot;all&quot; schema</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema/workflow/">Workflow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/schema/thrift/">Thrift and JSON</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Querying</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/derived/">Derived Predicates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/databases/">Glean Databases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/write/">Writing data to Glean</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/running/">Running the Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/shell/">Using the Shell</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/server/">Running the Glean Server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cli/">The Glean CLI tool</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Indexers</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_XoVD"><div class="docItemContainer_6jsP"><article><header><h1 class="docTitle_ft6A">How do I change a schema?</h1></header><div class="markdown"><p>Glean supports modifying the schema directly, while providing
backwards compatibility between existing clients and data across the
schema change.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="basic-rules">Basic rules<a aria-hidden="true" class="hash-link" href="#basic-rules" title="Direct link to heading">​</a></h3><p>To preserve compatibility between clients and data, the schema can
only be changed in <strong>compatible</strong> ways. This means:</p><ul><li>Adding or removing a field from a record, if the field has a <strong>defaultable</strong> type (see <a href="#default-values">Default values</a>)</li><li>Adding or removing an alternative from a sum type</li><li>Adding or removing a predicate or type declaration</li></ul><p>An example of an <em>incompatible</em> change would be changing the type of a
field, for example from <code>nat</code> to <code>bool</code>.</p><p>Of course it&#x27;s fine to make arbitrary changes to a schema that you&#x27;re
working on; the compatibility rules only come into effect when you
have existing databases and want to preserve compability with clients
during the schema change.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="compatibility">Compatibility<a aria-hidden="true" class="hash-link" href="#compatibility" title="Direct link to heading">​</a></h3><p>When the schema is changed, Glean supports any combination of old or
new clients (that is, clients built against the old or new version of
the schema) with old or new data.</p><ul><li>If the client requests a field that doesn&#x27;t exist in the data, the field will be filled with its default value.</li><li>If a query matches on an alternative that doesn&#x27;t exist in the schema, the match will fail.</li><li>If the data contains an alternative that doesn&#x27;t exist in the client&#x27;s schema, then the client will receive an <code>unknown</code> value (this is represented as an <code>EMPTY</code> constructor in the Thrift-generated datatypes).</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="default-values">Default values<a aria-hidden="true" class="hash-link" href="#default-values" title="Direct link to heading">​</a></h3><p>A <strong>defaultable</strong> type is any type that is not a predicate. So for
example, if <code>P</code> is a predicate type, then we could add a field <code>f :
maybe P</code> but not a field <code>f : P</code>. The reason for this restriction is
that Glean must be able to substitute a default value for the
field when a client is using the new schema but the data is using the
old schema, and there cannot be a default value for a predicate.</p><p>Default values for missing fields are determined according to the
following table:</p><table><thead><tr><th>Type</th><th>Default value</th></tr></thead><tbody><tr><td><code>nat</code></td><td><code>0</code></td></tr><tr><td><code>byte</code></td><td><code>0</code></td></tr><tr><td><code>string</code></td><td><code>&quot;&quot;</code></td></tr><tr><td><code>[T]</code></td><td><code>[]</code></td></tr><tr><td><code>{ field₁ : T₁, ..., fieldₙ : Tₙ }</code></td><td><code>{ field₁ = default(T₁), ..., fieldₙ = default(Tₙ) }</code></td></tr><tr><td><code>{ field₁ : T₁ <!-- -->|<!-- --> ... <!-- -->|<!-- --> fieldₙ : Tₙ }</code></td><td><code>{ field₁ = default(T₁) }</code></td></tr><tr><td><code>bool</code></td><td><code>false</code></td></tr><tr><td><code>maybe T</code></td><td><code>nothing</code></td></tr><tr><td><code>enum { name₁ <!-- -->|<!-- --> ... <!-- -->|<!-- --> nameₙ }</code></td><td><code>name₁</code></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_y2LR" id="what-if-my-schema-changes-are-incompatible">What if my schema changes are incompatible?<a aria-hidden="true" class="hash-link" href="#what-if-my-schema-changes-are-incompatible" title="Direct link to heading">​</a></h3><p>You can add new predicates representing the new data. Then you have
the option of</p><ol><li>Writing both the old and the new data to the database</li><li>Producing two databases, one with the old data and one with the new data. The databases can be distinguished by different names or different properties.</li></ol><p>With approach (1), you can migrate clients incrementally and then eventually
stop producing the old data. But the downside of this approach is that
the database may contain a lot more data than necessary; writing may
take a lot longer, and so on.</p><p>With approach (2), you first have to ensure clients select the old
database. Then as you migrate clients, change them to use the new data
and select the new database at the same time.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="how-does-it-work">How does it work?<a aria-hidden="true" class="hash-link" href="#how-does-it-work" title="Direct link to heading">​</a></h3><p>A particular instance of the schema is identified by a
<code>SchemaId</code>. This is a hash value computed from the full contents of
the schema. The <code>SchemaId</code> of the current schema is available through
the <code>schema_id</code> value exported by the <code>builtin</code> schema (the
<code>Glean.Schema.Builtin.Types</code> module in Haskell).</p><p>The server keeps track of multiple instances of the schema in a
<strong>schema index</strong>. Each instance of the schema is identified by its
<code>SchemaId</code>. Each database also contains the schema that it was written
with. The schema index is manipulated using the <code>gen-schema</code> tool in
the Glean repository; to use a particular index we can use <code>--schema
indexfile:FILE</code> or <code>--schema indexconfig:CONFIG</code>.</p><p>A client sends its <code>SchemaId</code> to the server in the <code>schema_id</code> field
of the query. For Haskell clients this is done automatically: the
client passes its <code>SchemaId</code> when initialising the Glean client
library, and this <code>SchemaId</code> is passed on to the server for every
query.</p><p>The server knows which schema the client is using, so it can translate
the data in the database into the client&#x27;s schema automatically.</p><p>When a database is created, the schema used by the database is chosen
by the <code>glean.schema_id</code> property set by the client creating the
database. Again for Haskell clients this happens automatically.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="evolving-schemas">Evolving schemas<a aria-hidden="true" class="hash-link" href="#evolving-schemas" title="Direct link to heading">​</a></h3><p>Glean also allows backwards-compatibility between co-existing schemas,
which can be useful if you want to perform schema changes in a more
explicit way, or to rename schemas.</p><p>The feature is enabled using a top-level directive</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">schema my_schema.2 evolves my_schema.1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This declaration has the effect of treating queries for <code>my_schema.1</code> predicates as if they were for <code>my_schema.2</code>. That is the query results will be retrieved from the database in the shame of a <code>my_schema.2</code> fact and transformed into a fact of the equivalent <code>my_schema.1</code> predicate specified in the query.</p><p>The new schema must contain all the predicates of the old schema, either with new versions or old versions, and their definitions must be backwards compatible. We can achieve this by copying the entire content of the old schema into the new one and modifying it there.</p><p>Now what should Glean do when a client asks for a fact from an old schema?</p><ul><li>Answer with db facts from the old schema</li><li>Answer with db facts from the new schema transformed into the old ones.</li></ul><p>If there are no facts of the old schema in in the database we will take option 2.
If the database has any fact at all of the old schema we choose option 1.</p><p>That is, schema evolutions only take effect if there are no facts of the old schema in the database; it is ignored otherwise.</p><p>As an example suppose we start with the following schemas:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">schema src.1 {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   predicate File {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     path : string</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">schema os.1 {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  import src.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  predicate Permissions {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    file : File,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    permissions : nat</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">schema info.1 {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  import src.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  predicate IsTemporary {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    file : File</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  } F where F = src.File { path = &quot;/tmp&quot;.. }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Now we want to make a backward-compatible change to <code>src.File</code> and add an <code>extension</code> field. We could add this to the file:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">schema src.2 {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   predicate File {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     path : string,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     extension : string</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">schema src.2 evolves src.1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Now if the indexer is still producing only <code>src.1</code> facts, all other predicates will work as before and queries for <code>src.File.2</code> will return no results.</p><p>Once the indexer is changed to produce only <code>src.2</code> facts queries like <code>src.File.1 _</code> will be fulfilled using data from the <code>src.2</code> schema, converting the <code>src.File.2</code> results to the shape of <code>src.File.1</code> before returning to the client.</p><p>This is also the case in the derivation query of <code>info.IsTemporary</code>. Although <code>info</code> imports <code>src.1</code>, the query will be transformed to use <code>src.2</code> facts.</p><p>On the other hand, <code>os.Permissions</code> will be empty. This must be the case because its first field references a <code>src.File.1</code> fact, of which there is none in the database. For this predicate to continue being available we must evolve its schema as well.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">schema os.2 {             # changed</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  import src.2            # changed</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  predicate Permissions {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    file : File,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    permissions : nat</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">schema os.2 evolves os.1    # changed</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebookincubator/Glean/tree/main/glean/website/docs/schema/changing.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/schema/recursion/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Recursion</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/schema/all/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">The special &quot;all&quot; schema<!-- --> »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#basic-rules" class="table-of-contents__link toc-highlight">Basic rules</a></li><li><a href="#compatibility" class="table-of-contents__link toc-highlight">Compatibility</a></li><li><a href="#default-values" class="table-of-contents__link toc-highlight">Default values</a></li><li><a href="#what-if-my-schema-changes-are-incompatible" class="table-of-contents__link toc-highlight">What if my schema changes are incompatible?</a></li><li><a href="#how-does-it-work" class="table-of-contents__link toc-highlight">How does it work?</a></li><li><a href="#evolving-schemas" class="table-of-contents__link toc-highlight">Evolving schemas</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/MetaOpenSource" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebookincubator/glean" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_SRtH"><img src="/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></a></div><div class="footer__copyright">Copyright © 2022 Meta Platforms, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.55b9cbc3.js"></script>
<script src="/assets/js/main.0f48c82f.js"></script>
</body>
</html>